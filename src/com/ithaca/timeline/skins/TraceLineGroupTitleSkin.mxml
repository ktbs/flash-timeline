<?xml version="1.0" encoding="utf-8"?>
<s:Skin xmlns:fx="http://ns.adobe.com/mxml/2009" 
				 xmlns:s="library://ns.adobe.com/flex/spark" 
				 xmlns:tl="com.ithaca.timeline.*" 
				 xmlns:mx="library://ns.adobe.com/flex/mx" 
				 xmlns:Skins="com.ithaca.timeline.Skins.*" 
				 creationComplete="creationCompleteHandler(event)"
				 width="100%" height="100%">
	<fx:Declarations>
		<!-- Placer ici les éléments non visuels (services et objets de valeur, par exemple). -->
	</fx:Declarations>
	
	<fx:Metadata>[HostComponent("com.ithaca.timeline.TraceLineGroupTitle")]</fx:Metadata>
	 
	<fx:Script>
        <![CDATA[         
			import com.ithaca.timeline.Timeline;
			import mx.events.FlexEvent;
			import com.ithaca.timeline.Stylesheet;
			
			[Bindable]
			private var backgroundColor : uint;
						
			protected function creationCompleteHandler(event:FlexEvent):void
			{
				traceLineGroupTitle.text = hostComponent.tlg.title;
				backgroundColor = hostComponent.tlg.backgroundColor;
				titleGroup.addEventListener(MouseEvent.MOUSE_DOWN, mouseDown)
			}
			
			protected function closeTracelineGroup( ) : void
			{
				(hostComponent.tlg.node.parent.value as Timeline).removeTraceLineGroup( hostComponent.tlg );
			}
	
			private var rectangle:Rectangle = new Rectangle(0,0, 0, 100);
			private function mouseDown(event:MouseEvent):void
			{
				startDrag(false, rectangle);
				stage.addEventListener(MouseEvent.MOUSE_UP, mouseReleased);
			}

			private function mouseReleased(event:MouseEvent):void
			{
				stopDrag();
				stage.removeEventListener(MouseEvent.MOUSE_UP, mouseReleased);
			}
        ]]>        
    </fx:Script>
	
	<s:states>
        <s:State name="normal" />
		<s:State name="disabled" />
    </s:states>
	
	<s:BorderContainer id="tlgContainer"  width="100%" height="100%"  minHeight="1" left="4" right="4" bottom="4" backgroundColor="{backgroundColor}" >	
		<s:BorderContainer id="titleGroup" backgroundColor="#000000"  height="25" horizontalCenter="true" >		
			<mx:Button  skin="@Embed(source='../images/BlackCross.png')" downSkin="@Embed(source='../images/BlackCrossClick.png')" overSkin="@Embed(source='../images/BlackCrossOver.png')" y="6" x="4" click="closeTracelineGroup()" />			
			<s:Label id="traceLineGroupTitle" fontSize="11" color="#A8A8A8" fontWeight="bold" height="20" width="100%"  x="16" y="8" />				
		</s:BorderContainer>			
		<s:VGroup id="contentGroup" left="10" right="4" top="30" bottom="2"  width="100%" gap="5" />			
	</s:BorderContainer>
</s:Skin>
